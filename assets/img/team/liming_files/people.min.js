!function o(s,a,r){function l(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var u=a[e]={exports:{}};s[e][0].call(u.exports,function(t){return l(s[e][1][t]||t)},u,u.exports,o,s,a,r)}return a[e].exports}for(var c="function"==typeof require&&require,t=0;t<r.length;t++)l(r[t]);return l}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ContactForm=void 0;var i=function(){function t(){var e=this;this.hiddenClass="hidden",this.activeClass="is-active";var n=document.getElementById("direct-contact-btn"),i=document.getElementById("enquiry-form-area");null!=n&&n.addEventListener("click",function(t){null!=i&&(i.classList.contains(e.activeClass)?i.classList.remove(e.activeClass):(i.classList.add(e.activeClass),i.getElementsByTagName("input")[3].focus(),t.preventDefault()))});var t=document.getElementById("enquiry-form-close");null!=t&&t.addEventListener("click",function(t){return null!=i&&(i.classList.remove(e.activeClass),n.focus()),t.preventDefault(),!1});var u=document.getElementById("direct-submit");null!=u&&u.addEventListener("click",function(t){return e.submitForm(),t.preventDefault(),!1})}return t.prototype.submitForm=function(){var n=this,i=document.getElementById("enquiry-form");if(null!=i){this.checkContent("enquiry-first-name","firstname_err"),this.checkContent("enquiry-last-name","lastname_err"),this.checkContent("enquiry-email","email_err");var t=document.getElementById("email_err");if(null!=t){var e=t.closest(".form__item");if(null!=e&&!e.classList.contains("form__error")){var u=document.getElementById("enquiry-email");/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))){2,6}$/i.test(u.value)||this.displayError("email_err")}}if(this.checkContent("enquiry","enquiry-error"),0==i.getElementsByClassName("form__error").length){var o=new FormData(i),s="";s=-1<window.location.hostname.indexOf("loc")?"https://peopleloc.csiro.au":-1<window.location.hostname.indexOf("uat")?"https://people-edit-uat.csiro.au":"https://people.csiro.au/";var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var t=document.getElementById("enquiry-notification-success");null!=t&&(t.classList.remove(n.hiddenClass),i.classList.add(n.hiddenClass))}else if(4==a.readyState&&200!=a.status){var e=document.getElementById("enquiry-notification-error");null!=e&&(e.classList.remove(n.hiddenClass),i.classList.add(n.hiddenClass))}};a.open("POST",s+"/api/sitecore/Contact/SendContactRequest",!0),a.send(o)}}},t.prototype.checkContent=function(t,e){var n=document.getElementById(t);null!=n&&(""!=n.value?this.removeError(e):this.displayError(e))},t.prototype.displayError=function(t){var e=document.getElementById(t);if(null!=e){var n=e.closest(".form__item");null!=n&&n.classList.add("form__error")}},t.prototype.removeError=function(t){var e=document.getElementById(t);if(null!=e){var n=e.closest(".form__item");null!=n&&n.classList.remove("form__error")}},t}();n.ContactForm=i},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Publications=void 0;var i=function(){function t(){var i=this;this.hiddenClass="hidden",this.amount=10,this.total=0,this.loadingDiv="loadingDiv",this.moreContainer="morecontainer",this.pubList="publist",this.getPublications(1),document.getElementById("pubsbtn").addEventListener("click",function(){var t=document.getElementById(i.loadingDiv),e=document.getElementById(i.moreContainer);if(null!=e){e.classList.add(i.hiddenClass),null!=t&&t.classList.remove(i.hiddenClass);var n=document.getElementById(i.pubList).getElementsByClassName("cp-publication").length/10;0!=n&&null!=n?i.getPublications(n):i.displayMoreButton(n)}})}return t.prototype.getPublications=function(t){var e=this,n=document.getElementById(this.loadingDiv),i=document.getElementById(this.pubList),u=i.getAttribute("data-email");if(null!=u&&""!=u){var o="?email="+u+"&page="+t+"&rpp="+this.amount,s=new XMLHttpRequest;s.open("GET","https://people.csiro.au/api/sitecore/Publications/GetPublications"+o),s.send(),s.onreadystatechange=function(){if(4==s.readyState&&200==s.status&&10<s.responseText.length){i.insertAdjacentHTML("beforeend",s.responseText),n.classList.add(e.hiddenClass);var t=i.getElementsByClassName("cp-publication").length;0==e.total?e.getPublicationCount(u,t):e.displayMoreButton(t)}}}},t.prototype.getPublicationCount=function(t,e){var n=this;if(0==this.total){var i=document.getElementById("pubcount"),u="?email="+t,o=new XMLHttpRequest;o.open("GET","https://people.csiro.au/api/sitecore/Publications/GetPublicationCount"+u),o.send(),o.onreadystatechange=function(){4==o.readyState&&200==o.status&&0<o.responseText.length&&(i.textContent=o.responseText,n.total=+o.responseText,n.displayMoreButton(e))}}},t.prototype.displayMoreButton=function(t){var e=document.getElementById(this.moreContainer);this.total>t?e.classList.remove(this.hiddenClass):e.classList.add(this.hiddenClass)},t}();n.Publications=i},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./publications"),u=t("./contact-form");function o(){null!=document.getElementById("publist")&&new i.Publications,new u.ContactForm}"loading"!==document.readyState?o():(!0,document.addEventListener("DOMContentLoaded",o))},{"./contact-form":1,"./publications":2}]},{},[3]);