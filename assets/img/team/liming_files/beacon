// Turns off requireJS 'define' if it exists to make it possible to initialize SCBeacon
var __scFxmOrigDefine;
if (typeof define !== "undefined") {
  __scFxmOrigDefine = define;
  define = null;
}

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SCBeacon=e()}}(function(){return function i(s,u,a){function c(t,e){if(!u[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};s[t][0].call(o.exports,function(e){return c(s[t][1][e]||e)},o,o.exports,i,s,u,a)}return u[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)c(a[e]);return c}({1:[function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}void 0!==t&&(t.exports=r),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],2:[function(e,t,n){!function(i,s){"use strict";var e,u=function(e,t,n){return 1===arguments.length?u.get(e):u.set(e,t,n)};u.get=function(e){return i.cookie!==u._cacheString&&u._populateCache(),u._cache[e]},u.defaults={path:"/"},u.set=function(e,t,n){n={path:n&&n.path||u.defaults.path,domain:n&&n.domain||u.defaults.domain,expires:n&&n.expires||u.defaults.expires,secure:n&&n.secure!==s?n.secure:u.defaults.secure};switch(t===s&&(n.expires=-1),typeof n.expires){case"number":n.expires=new Date((new Date).getTime()+1e3*n.expires);break;case"string":n.expires=new Date(n.expires)}var r=encodeURIComponent(e)+"="+(t+"").replace(/[^!#-+\--:<-[\]-~]/g,encodeURIComponent);return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toGMTString():"",r+=n.secure?";secure":"",i.cookie=r,u},u.expire=function(e,t){return u.set(e,s,t)},u._populateCache=function(){u._cache={},u._cacheString=i.cookie;for(var e=u._cacheString.split("; "),t=0;t<e.length;t++){var n=e[t].indexOf("="),r=decodeURIComponent(e[t].substr(0,n)),o=decodeURIComponent(e[t].substr(n+1));u._cache[r]===s&&(u._cache[r]=o)}},u.enabled=(e="1"===u.set("cookies.js","1").get("cookies.js"),u.expire("cookies.js"),e),void 0!==n?(void 0!==t&&t.exports&&(n=t.exports=u),n.Cookies=u):window.Cookies=u}(document)},{}],3:[function(e,n,t){!function(e){var c=function(e){return t(!0===e,!1,arguments)};function l(e,t){if("object"!==f(e))return t;for(var n in t)"object"===f(e[n])&&"object"===f(t[n])?e[n]=l(e[n],t[n]):e[n]=t[n];return e}function t(e,t,n){var r=n[0],o=n.length;(e||"object"!==f(r))&&(r={});for(var i=0;i<o;++i){var s=n[i];if("object"===f(s))for(var u in s)if("__proto__"!==u){var a=e?c.clone(s[u]):s[u];r[u]=t?l(r[u],a):a}}return r}function f(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}c.recursive=function(e){return t(!0===e,!0,arguments)},c.clone=function(e){var t,n,r=e,o=f(e);if("array"===o)for(r=[],n=e.length,t=0;t<n;++t)r[t]=c.clone(e[t]);else if("object"===o)for(t in r={},e)r[t]=c.clone(e[t]);return r},e?n.exports=c:window.merge=c}("object"==typeof n&&n&&"object"==typeof n.exports&&n.exports)},{}],4:[function(e,t,n){var r,o,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,l=[],f=!1,p=-1;function d(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&h())}function h(){if(!f){var e=a(d);f=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||f||a(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],5:[function(e,r,o){(function(V,K){!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof o&&"object"==typeof r)r.exports=e();else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var t="undefined"!=typeof window?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}}(function(){"use strict";var u=!1;try{throw new Error}catch(e){u=!!e.stack}var o,i=x(),t=function(){},l=function(){var n={task:void 0,next:null},t=n,r=!1,o=void 0,i=!1,s=[];function u(){for(var e,t;n.next;)e=(n=n.next).task,n.task=void 0,(t=n.domain)&&(n.domain=void 0,t.enter()),a(e,t);for(;s.length;)a(e=s.pop());r=!1}function a(e,t){try{e()}catch(e){if(i)throw t&&t.exit(),setTimeout(u,0),t&&t.enter(),e;setTimeout(function(){throw e},0)}t&&t.exit()}if(l=function(e){t=t.next={task:e,domain:i&&V.domain,next:null},r||(r=!0,o())},"object"==typeof V&&"[object process]"===V.toString()&&V.nextTick)i=!0,o=function(){V.nextTick(u)};else if("function"==typeof K)o="undefined"!=typeof window?K.bind(window,u):function(){K(u)};else if("undefined"!=typeof MessageChannel){var e=new MessageChannel;e.port1.onmessage=function(){o=c,(e.port1.onmessage=u)()};var c=function(){e.port2.postMessage(0)};o=function(){setTimeout(u,0),c()}}else o=function(){setTimeout(u,0)};return l.runAfter=function(e){s.push(e),r||(r=!0,o())},l}(),n=Function.call;function e(e){return function(){return n.apply(e,arguments)}}var a,c=e(Array.prototype.slice),f=e(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),s=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),r=e(Array.prototype.map||function(r,o){var i=this,s=[];return f(i,function(e,t,n){s.push(r.call(o,t,n,i))},void 0),s}),p=Object.create||function(e){function t(){}return t.prototype=e,new t},d=Object.defineProperty||function(e,t,n){return e[t]=n.value,e},h=e(Object.prototype.hasOwnProperty),m=Object.keys||function(e){var t=[];for(var n in e)h(e,n)&&t.push(n);return t},y=e(Object.prototype.toString);a="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var v="From previous event:";function g(e,t){if(u&&t.stack&&"object"==typeof e&&null!==e&&e.stack){for(var n=[],r=t;r;r=r.source)r.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>r.stackCounter)&&(d(e,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),n.unshift(r.stack));n.unshift(e.stack);var o=function(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var o=t[r];!b(o)&&(-1===(i=o).indexOf("(module.js:")&&-1===i.indexOf("(node.js:"))&&o&&n.push(o)}var i;return n.join("\n")}(n.join("\n"+v+"\n"));d(e,"stack",{value:o,configurable:!0})}}function w(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function b(e){var t=w(e);if(!t)return!1;var n=t[0],r=t[1];return n===o&&i<=r&&r<=G}function x(){if(u)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=w(0<t[0].indexOf("@")?t[1]:t[2]);if(!n)return;return o=n[0],n[1]}}function T(e){return e instanceof j?e:R(e)?(t=e,n=_(),T.nextTick(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}}),n.promise):z(e);var t,n}(T.resolve=T).nextTick=l,T.longStackSupport=!1;var E=1;function _(){var o,i=[],s=[],e=p(_.prototype),t=p(j.prototype);if(t.promiseDispatch=function(e,t,n){var r=c(arguments);i?(i.push(r),"when"===t&&n[1]&&s.push(n[1])):T.nextTick(function(){o.promiseDispatch.apply(o,r)})},t.valueOf=function(){if(i)return t;var e=N(o);return D(e)&&(o=e),e},t.inspect=function(){return o?o.inspect():{state:"pending"}},T.longStackSupport&&u)try{throw new Error}catch(e){t.stack=e.stack.substring(e.stack.indexOf("\n")+1),t.stackCounter=E++}function n(n){o=n,T.longStackSupport&&u&&(t.source=n),f(i,function(e,t){T.nextTick(function(){n.promiseDispatch.apply(n,t)})},void 0),s=i=void 0}return e.promise=t,e.resolve=function(e){o||n(T(e))},e.fulfill=function(e){o||n(z(e))},e.reject=function(e){o||n(H(e))},e.notify=function(n){o||f(s,function(e,t){T.nextTick(function(){t(n)})},void 0)},e}function k(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=_();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function C(o){return k(function(e,t){for(var n=0,r=o.length;n<r;n++)T(o[n]).then(e,t)})}function j(o,i,t){void 0===i&&(i=function(e){return H(new Error("Promise does not support operation: "+e))}),void 0===t&&(t=function(){return{state:"unknown"}});var s=p(j.prototype);if(s.promiseDispatch=function(e,t,n){var r;try{r=o[t]?o[t].apply(s,n):i.call(s,t,n)}catch(e){r=H(e)}e&&e(r)},s.inspect=t){var e=t();"rejected"===e.state&&(s.exception=e.reason),s.valueOf=function(){var e=t();return"pending"===e.state||"rejected"===e.state?s:e.value}}return s}function S(e,t,n,r){return T(e).then(t,n,r)}function N(e){if(D(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function D(e){return e instanceof j}function R(e){return(t=e)===Object(t)&&"function"==typeof e.then;var t}"object"==typeof V&&V&&V.env&&V.env.Q_DEBUG&&(T.longStackSupport=!0),(T.defer=_).prototype.makeNodeResolver=function(){var n=this;return function(e,t){e?n.reject(e):2<arguments.length?n.resolve(c(arguments,1)):n.resolve(t)}},T.Promise=k,(T.promise=k).race=C,k.all=$,k.reject=H,(k.resolve=T).passByCopy=function(e){return e},j.prototype.passByCopy=function(){return this},T.join=function(e,t){return T(e).join(t)},j.prototype.join=function(e){return T([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},T.race=C,j.prototype.race=function(){return this.then(T.race)},(T.makePromise=j).prototype.toString=function(){return"[object Promise]"},j.prototype.then=function(t,n,o){var r=this,i=_(),s=!1;return T.nextTick(function(){r.promiseDispatch(function(e){s||(s=!0,i.resolve(function(e){try{return"function"==typeof t?t(e):e}catch(e){return H(e)}}(e)))},"when",[function(e){s||(s=!0,i.resolve(function(e){if("function"==typeof n){g(e,r);try{return n(e)}catch(e){return H(e)}}return H(e)}(e)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(e){var t,n,r=!1;try{n=e,t="function"==typeof o?o(n):n}catch(e){if(r=!0,!T.onerror)throw e;T.onerror(e)}r||i.notify(t)}]),i.promise},T.tap=function(e,t){return T(e).tap(t)},j.prototype.tap=function(t){return t=T(t),this.then(function(e){return t.fcall(e).thenResolve(e)})},T.when=S,j.prototype.thenResolve=function(e){return this.then(function(){return e})},T.thenResolve=function(e,t){return T(e).thenResolve(t)},j.prototype.thenReject=function(e){return this.then(function(){throw e})},T.thenReject=function(e,t){return T(e).thenReject(t)},T.nearer=N,T.isPromise=D,T.isPromiseAlike=R,T.isPending=function(e){return D(e)&&"pending"===e.inspect().state},j.prototype.isPending=function(){return"pending"===this.inspect().state},T.isFulfilled=function(e){return!D(e)||"fulfilled"===e.inspect().state},j.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},T.isRejected=function(e){return D(e)&&"rejected"===e.inspect().state},j.prototype.isRejected=function(){return"rejected"===this.inspect().state};var A,I,O,q=[],L=[],P=[],B=!0;function M(){q.length=0,L.length=0,B||(B=!0)}function H(t){var e,n,r=j({when:function(e){return e&&function(t){if(B){var n=s(L,t);-1!==n&&("object"==typeof V&&"function"==typeof V.emit&&T.nextTick.runAfter(function(){var e=s(P,t);-1!==e&&(V.emit("rejectionHandled",q[n],t),P.splice(e,1))}),L.splice(n,1),q.splice(n,1))}}(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return e=r,n=t,B&&("object"==typeof V&&"function"==typeof V.emit&&T.nextTick.runAfter(function(){-1!==s(L,e)&&(V.emit("unhandledRejection",n,e),P.push(e))}),L.push(e),n&&void 0!==n.stack?q.push(n.stack):q.push("(no stack) "+n)),r}function z(n){return j({when:function(){return n},get:function(e){return n[e]},set:function(e,t){n[e]=t},delete:function(e){delete n[e]},post:function(e,t){return null==e?n.apply(void 0,t):n[e].apply(n,t)},apply:function(e,t){return n.apply(e,t)},keys:function(){return m(n)}},void 0,function(){return{state:"fulfilled",value:n}})}function F(e,t,n){return T(e).spread(t,n)}function U(e,t,n){return T(e).dispatch(t,n)}function $(e){return S(e,function(o){var i=0,s=_();return f(o,function(e,t,n){var r;D(t)&&"fulfilled"===(r=t.inspect()).state?o[n]=r.value:(++i,S(t,function(e){o[n]=e,0==--i&&s.resolve(o)},s.reject,function(e){s.notify({index:n,value:e})}))},void 0),0===i&&s.resolve(o),s.promise})}function Q(o){if(0===o.length)return T.resolve();var i=T.defer(),s=0;return f(o,function(e,t,n){var r=o[n];s++,S(r,function(e){i.resolve(e)},function(e){if(0==--s){var t=e||new Error(""+e);t.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,i.reject(t)}},function(e){i.notify({index:n,value:e})})},void 0),i.promise}function X(e){return S(e,function(e){return e=r(e,T),S($(r(e,function(e){return S(e,t,t)})),function(){return e})})}T.resetUnhandledRejections=M,T.getUnhandledReasons=function(){return q.slice()},T.stopUnhandledRejectionTracking=function(){M(),B=!1},M(),T.reject=H,T.fulfill=z,T.master=function(n){return j({isDef:function(){}},function(e,t){return U(n,e,t)},function(){return T(n).inspect()})},T.spread=F,j.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},T.async=function(t){return function(){function e(e,t){var n,r;if("undefined"==typeof StopIteration){try{n=o[e](t)}catch(e){return H(e)}return n.done?T(n.value):S(n.value,i,s)}try{n=o[e](t)}catch(e){return"[object StopIteration]"===y(r=e)||r instanceof a?T(e.value):H(e)}return S(n,i,s)}var o=t.apply(this,arguments),i=e.bind(e,"next"),s=e.bind(e,"throw");return i()}},T.spawn=function(e){T.done(T.async(e)())},T.return=function(e){throw new a(e)},T.promised=function(n){return function(){return F([this,$(arguments)],function(e,t){return n.apply(e,t)})}},T.dispatch=U,j.prototype.dispatch=function(e,t){var n=this,r=_();return T.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},T.get=function(e,t){return T(e).dispatch("get",[t])},j.prototype.get=function(e){return this.dispatch("get",[e])},T.set=function(e,t,n){return T(e).dispatch("set",[t,n])},j.prototype.set=function(e,t){return this.dispatch("set",[e,t])},T.del=T.delete=function(e,t){return T(e).dispatch("delete",[t])},j.prototype.del=j.prototype.delete=function(e){return this.dispatch("delete",[e])},T.mapply=T.post=function(e,t,n){return T(e).dispatch("post",[t,n])},j.prototype.mapply=j.prototype.post=function(e,t){return this.dispatch("post",[e,t])},T.send=T.mcall=T.invoke=function(e,t){return T(e).dispatch("post",[t,c(arguments,2)])},j.prototype.send=j.prototype.mcall=j.prototype.invoke=function(e){return this.dispatch("post",[e,c(arguments,1)])},T.fapply=function(e,t){return T(e).dispatch("apply",[void 0,t])},j.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},T.try=T.fcall=function(e){return T(e).dispatch("apply",[void 0,c(arguments,1)])},j.prototype.fcall=function(){return this.dispatch("apply",[void 0,c(arguments)])},T.fbind=function(e){var t=T(e),n=c(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(c(arguments))])}},j.prototype.fbind=function(){var e=this,t=c(arguments);return function(){return e.dispatch("apply",[this,t.concat(c(arguments))])}},T.keys=function(e){return T(e).dispatch("keys",[])},j.prototype.keys=function(){return this.dispatch("keys",[])},T.all=$,j.prototype.all=function(){return $(this)},T.any=Q,j.prototype.any=function(){return Q(this)},T.allResolved=(A=X,I="allResolved",O="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(I+" is deprecated, use "+O+" instead.",new Error("").stack),A.apply(A,arguments)}),j.prototype.allResolved=function(){return X(this)},T.allSettled=function(e){return T(e).allSettled()},j.prototype.allSettled=function(){return this.then(function(e){return $(r(e,function(e){function t(){return e.inspect()}return(e=T(e)).then(t,t)}))})},T.fail=T.catch=function(e,t){return T(e).then(void 0,t)},j.prototype.fail=j.prototype.catch=function(e){return this.then(void 0,e)},T.progress=function(e,t){return T(e).then(void 0,void 0,t)},j.prototype.progress=function(e){return this.then(void 0,void 0,e)},T.fin=T.finally=function(e,t){return T(e).finally(t)},j.prototype.fin=j.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=T(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},T.done=function(e,t,n,r){return T(e).done(t,n,r)},j.prototype.done=function(e,t,n){var r=function(e){T.nextTick(function(){if(g(e,o),!T.onerror)throw e;T.onerror(e)})},o=e||t||n?this.then(e,t,n):this;"object"==typeof V&&V&&V.domain&&(r=V.domain.bind(r)),o.then(void 0,r)},T.timeout=function(e,t,n){return T(e).timeout(t,n)},j.prototype.timeout=function(e,t){var n=_(),r=setTimeout(function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},T.delay=function(e,t){return void 0===t&&(t=e,e=void 0),T(e).delay(t)},j.prototype.delay=function(n){return this.then(function(e){var t=_();return setTimeout(function(){t.resolve(e)},n),t.promise})},T.nfapply=function(e,t){return T(e).nfapply(t)},j.prototype.nfapply=function(e){var t=_(),n=c(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},T.nfcall=function(e){var t=c(arguments,1);return T(e).nfapply(t)},j.prototype.nfcall=function(){var e=c(arguments),t=_();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},T.nfbind=T.denodeify=function(n){if(void 0===n)throw new Error("Q can't wrap an undefined function");var r=c(arguments,1);return function(){var e=r.concat(c(arguments)),t=_();return e.push(t.makeNodeResolver()),T(n).fapply(e).fail(t.reject),t.promise}},j.prototype.nfbind=j.prototype.denodeify=function(){var e=c(arguments);return e.unshift(this),T.denodeify.apply(void 0,e)},T.nbind=function(n,r){var o=c(arguments,2);return function(){var e=o.concat(c(arguments)),t=_();return e.push(t.makeNodeResolver()),T(function(){return n.apply(r,arguments)}).fapply(e).fail(t.reject),t.promise}},j.prototype.nbind=function(){var e=c(arguments,0);return e.unshift(this),T.nbind.apply(void 0,e)},T.nmapply=T.npost=function(e,t,n){return T(e).npost(t,n)},j.prototype.nmapply=j.prototype.npost=function(e,t){var n=c(t||[]),r=_();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},T.nsend=T.nmcall=T.ninvoke=function(e,t){var n=c(arguments,2),r=_();return n.push(r.makeNodeResolver()),T(e).dispatch("post",[t,n]).fail(r.reject),r.promise},j.prototype.nsend=j.prototype.nmcall=j.prototype.ninvoke=function(e){var t=c(arguments,1),n=_();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},T.nodeify=function(e,t){return T(e).nodeify(t)},j.prototype.nodeify=function(t){if(!t)return this;this.then(function(e){T.nextTick(function(){t(null,e)})},function(e){T.nextTick(function(){t(e)})})},T.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var G=x();return T})}).call(this,e("_process"),e("timers").setImmediate)},{_process:4,timers:13}],6:[function(e,Ce,t){!function(n){var e,d,b,i,o,h,f,m,x,a,c,T,E,s,_,y,u,l,v,k="sizzle"+1*new Date,g=n.document,C=0,r=0,p=ae(),w=ae(),j=ae(),S=ae(),N=function(e,t){return e===t&&(c=!0),0},D={}.hasOwnProperty,t=[],R=t.pop,A=t.push,I=t.push,O=t.slice,q=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+P+"*("+B+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+P+"*\\]",H=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",z=new RegExp(P+"+","g"),F=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),U=new RegExp("^"+P+"*,"+P+"*"),$=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),Q=new RegExp(P+"|>"),X=new RegExp(H),G=new RegExp("^"+B+"$"),V={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){T()},se=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(t=O.call(g.childNodes),g.childNodes),t[g.childNodes.length].nodeType}catch(e){I={apply:t.length?function(e,t){A.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ue(t,e,n,r){var o,i,s,u,a,c,l,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:g)!==E&&T(e),e=e||E,_)){if(11!==p&&(a=Z.exec(t)))if(o=a[1]){if(9===p){if(!(s=e.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(f&&(s=f.getElementById(o))&&v(e,s)&&s.id===o)return n.push(s),n}else{if(a[2])return I.apply(n,e.getElementsByTagName(t)),n;if((o=a[3])&&d.getElementsByClassName&&e.getElementsByClassName)return I.apply(n,e.getElementsByClassName(o)),n}if(d.qsa&&!S[t+" "]&&(!y||!y.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(l=t,f=e,1===p&&Q.test(t)){for((u=e.getAttribute("id"))?u=u.replace(re,oe):e.setAttribute("id",u=k),i=(c=h(t)).length;i--;)c[i]="#"+u+" "+we(c[i]);l=c.join(","),f=ee.test(t)&&ve(e.parentNode)||e}try{return I.apply(n,f.querySelectorAll(l)),n}catch(e){S(t,!0)}finally{u===k&&e.removeAttribute("id")}}}return m(t.replace(F,"$1"),e,n,r)}function ae(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function ce(e){return e[k]=!0,e}function le(e){var t=E.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function me(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&se(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ye(s){return ce(function(i){return i=+i,ce(function(e,t){for(var n,r=s([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=ue.support={},o=ue.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},T=ue.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:g;return r!==E&&9===r.nodeType&&r.documentElement&&(s=(E=r).documentElement,_=!o(E),g!==E&&(n=E.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ie,!1):n.attachEvent&&n.attachEvent("onunload",ie)),d.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=le(function(e){return e.appendChild(E.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=Y.test(E.getElementsByClassName),d.getById=le(function(e){return s.appendChild(e).id=k,!E.getElementsByName||!E.getElementsByName(k).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},b.find.CLASS=d.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&_)return t.getElementsByClassName(e)},u=[],y=[],(d.qsa=Y.test(E.querySelectorAll))&&(le(function(e){s.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+P+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+k+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||y.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=E.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+P+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(d.matchesSelector=Y.test(l=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&le(function(e){d.disconnectedMatch=l.call(e,"*"),l.call(e,"[s!='']:x"),u.push("!=",H)}),y=y.length&&new RegExp(y.join("|")),u=u.length&&new RegExp(u.join("|")),t=Y.test(s.compareDocumentPosition),v=t||Y.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===E||e.ownerDocument===g&&v(g,e)?-1:t===E||t.ownerDocument===g&&v(g,t)?1:a?q(a,e)-q(a,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],u=[t];if(!o||!i)return e===E?-1:t===E?1:o?-1:i?1:a?q(a,e)-q(a,t):0;if(o===i)return pe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?pe(s[r],u[r]):s[r]===g?-1:u[r]===g?1:0}),E},ue.matches=function(e,t){return ue(e,null,null,t)},ue.matchesSelector=function(e,t){if((e.ownerDocument||e)!==E&&T(e),d.matchesSelector&&_&&!S[t+" "]&&(!u||!u.test(t))&&(!y||!y.test(t)))try{var n=l.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){S(t,!0)}return 0<ue(t,E,null,[e]).length},ue.contains=function(e,t){return(e.ownerDocument||e)!==E&&T(e),v(e,t)},ue.attr=function(e,t){(e.ownerDocument||e)!==E&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:d.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ue.escape=function(e){return(e+"").replace(re,oe)},ue.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ue.uniqueSort=function(e){var t,n=[],r=0,o=0;if(c=!d.detectDuplicates,a=!d.sortStable&&e.slice(0),e.sort(N),c){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return a=null,e},i=ue.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(b=ue.selectors={cacheLength:50,createPseudo:ce,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ue.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ue.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=p[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&p(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,o){return function(e){var t=ue.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===o:"!="===r?t!==o:"^="===r?o&&0===t.indexOf(o):"*="===r?o&&-1<t.indexOf(o):"$="===r?o&&t.slice(-o.length)===o:"~="===r?-1<(" "+t.replace(z," ")+" ").indexOf(o):"|="===r&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(h,e,t,m,y){var v="nth"!==h.slice(0,3),g="last"!==h.slice(-4),w="of-type"===e;return 1===m&&0===y?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,s,u,a,c=v!==g?"nextSibling":"previousSibling",l=e.parentNode,f=w&&e.nodeName.toLowerCase(),p=!n&&!w,d=!1;if(l){if(v){for(;c;){for(s=e;s=s[c];)if(w?s.nodeName.toLowerCase()===f:1===s.nodeType)return!1;a=c="only"===h&&!a&&"nextSibling"}return!0}if(a=[g?l.firstChild:l.lastChild],g&&p){for(d=(u=(r=(o=(i=(s=l)[k]||(s[k]={}))[s.uniqueID]||(i[s.uniqueID]={}))[h]||[])[0]===C&&r[1])&&r[2],s=u&&l.childNodes[u];s=++u&&s&&s[c]||(d=u=0)||a.pop();)if(1===s.nodeType&&++d&&s===e){o[h]=[C,u,d];break}}else if(p&&(d=u=(r=(o=(i=(s=e)[k]||(s[k]={}))[s.uniqueID]||(i[s.uniqueID]={}))[h]||[])[0]===C&&r[1]),!1===d)for(;(s=++u&&s&&s[c]||(d=u=0)||a.pop())&&((w?s.nodeName.toLowerCase()!==f:1!==s.nodeType)||!++d||(p&&((o=(i=s[k]||(s[k]={}))[s.uniqueID]||(i[s.uniqueID]={}))[h]=[C,d]),s!==e)););return(d-=y)===m||d%m==0&&0<=d/m}}},PSEUDO:function(e,i){var t,s=b.pseudos[e]||b.setFilters[e.toLowerCase()]||ue.error("unsupported pseudo: "+e);return s[k]?s(i):1<s.length?(t=[e,e,"",i],b.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,r=s(e,i),o=r.length;o--;)e[n=q(e,r[o])]=!(t[n]=r[o])}):function(e){return s(e,0,t)}):s}},pseudos:{not:ce(function(e){var r=[],o=[],u=f(e.replace(F,"$1"));return u[k]?ce(function(e,t,n,r){for(var o,i=u(e,null,r,[]),s=e.length;s--;)(o=i[s])&&(e[s]=!(t[s]=o))}):function(e,t,n){return r[0]=e,u(r,null,n,o),r[0]=null,!o.pop()}}),has:ce(function(t){return function(e){return 0<ue(t,e).length}}),contains:ce(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||i(e)).indexOf(t)}}),lang:ce(function(n){return G.test(n||"")||ue.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=_?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return W.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ye(function(){return[0]}),last:ye(function(e,t){return[t-1]}),eq:ye(function(e,t,n){return[n<0?n+t:n]}),even:ye(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ye(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ye(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ye(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function ge(){}function we(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(u,e,t){var a=e.dir,c=e.next,l=c||a,f=t&&"parentNode"===l,p=r++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||f)return u(e,t,n);return!1}:function(e,t,n){var r,o,i,s=[C,p];if(n){for(;e=e[a];)if((1===e.nodeType||f)&&u(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||f)if(o=(i=e[k]||(e[k]={}))[e.uniqueID]||(i[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[a]||e;else{if((r=o[l])&&r[0]===C&&r[1]===p)return s[2]=r[2];if((o[l]=s)[2]=u(e,t,n))return!0}return!1}}function xe(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function Te(e,t,n,r,o){for(var i,s=[],u=0,a=e.length,c=null!=t;u<a;u++)(i=e[u])&&(n&&!n(i,r,o)||(s.push(i),c&&t.push(u)));return s}function Ee(d,h,m,y,v,e){return y&&!y[k]&&(y=Ee(y)),v&&!v[k]&&(v=Ee(v,e)),ce(function(e,t,n,r){var o,i,s,u=[],a=[],c=t.length,l=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ue(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?l:Te(l,u,d,n,r),p=m?v||(e?d:c||y)?[]:t:f;if(m&&m(f,p,n,r),y)for(o=Te(p,a),y(o,[],n,r),i=o.length;i--;)(s=o[i])&&(p[a[i]]=!(f[a[i]]=s));if(e){if(v||d){if(v){for(o=[],i=p.length;i--;)(s=p[i])&&o.push(f[i]=s);v(null,p=[],o,r)}for(i=p.length;i--;)(s=p[i])&&-1<(o=v?q(e,s):u[i])&&(e[o]=!(t[o]=s))}}else p=Te(p===t?p.splice(c,p.length):p),v?v(null,t,p,r):I.apply(t,p)})}function _e(e){for(var o,t,n,r=e.length,i=b.relative[e[0].type],s=i||b.relative[" "],u=i?1:0,a=be(function(e){return e===o},s,!0),c=be(function(e){return-1<q(o,e)},s,!0),l=[function(e,t,n){var r=!i&&(n||t!==x)||((o=t).nodeType?a(e,t,n):c(e,t,n));return o=null,r}];u<r;u++)if(t=b.relative[e[u].type])l=[be(xe(l),t)];else{if((t=b.filter[e[u].type].apply(null,e[u].matches))[k]){for(n=++u;n<r&&!b.relative[e[n].type];n++);return Ee(1<u&&xe(l),1<u&&we(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(F,"$1"),t,u<n&&_e(e.slice(u,n)),n<r&&_e(e=e.slice(n)),n<r&&we(e))}l.push(t)}return xe(l)}ge.prototype=b.filters=b.pseudos,b.setFilters=new ge,h=ue.tokenize=function(e,t){var n,r,o,i,s,u,a,c=w[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],a=b.preFilter;s;){for(i in n&&!(r=U.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=$.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(F," ")}),s=s.slice(n.length)),b.filter)!(r=V[i].exec(s))||a[i]&&!(r=a[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ue.error(e):w(e,u).slice(0)},f=ue.compile=function(e,t){var n,y,v,g,w,r,o=[],i=[],s=j[e+" "];if(!s){for(t||(t=h(e)),n=t.length;n--;)(s=_e(t[n]))[k]?o.push(s):i.push(s);(s=j(e,(y=i,g=0<(v=o).length,w=0<y.length,r=function(e,t,n,r,o){var i,s,u,a=0,c="0",l=e&&[],f=[],p=x,d=e||w&&b.find.TAG("*",o),h=C+=null==p?1:Math.random()||.1,m=d.length;for(o&&(x=t===E||t||o);c!==m&&null!=(i=d[c]);c++){if(w&&i){for(s=0,t||i.ownerDocument===E||(T(i),n=!_);u=y[s++];)if(u(i,t||E,n)){r.push(i);break}o&&(C=h)}g&&((i=!u&&i)&&a--,e&&l.push(i))}if(a+=c,g&&c!==a){for(s=0;u=v[s++];)u(l,f,t,n);if(e){if(0<a)for(;c--;)l[c]||f[c]||(f[c]=R.call(r));f=Te(f)}I.apply(r,f),o&&!e&&0<f.length&&1<a+v.length&&ue.uniqueSort(r)}return o&&(C=h,x=p),l},g?ce(r):r))).selector=e}return s},m=ue.select=function(e,t,n,r){var o,i,s,u,a,c="function"==typeof e&&e,l=!r&&h(e=c.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(s=i[0]).type&&9===t.nodeType&&_&&b.relative[i[1].type]){if(!(t=(b.find.ID(s.matches[0].replace(te,ne),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=V.needsContext.test(e)?0:i.length;o--&&(s=i[o],!b.relative[u=s.type]);)if((a=b.find[u])&&(r=a(s.matches[0].replace(te,ne),ee.test(i[0].type)&&ve(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&we(i)))return I.apply(n,r),n;break}}return(c||f(e,l))(r,t,!_,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},d.sortStable=k.split("").sort(N).join("")===k,d.detectDuplicates=!!c,T(),d.sortDetached=le(function(e){return 1&e.compareDocumentPosition(E.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||fe(L,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null});var ke=n.Sizzle;ue.noConflict=function(){return n.Sizzle===ue&&(n.Sizzle=ke),ue},void 0!==Ce&&Ce.exports?Ce.exports=ue:n.Sizzle=ue}(window)},{}],7:[function(e,t,n){function r(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){r.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),r.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},t.exports=r},{}],8:[function(e,t,n){var r;r="undefined"!=typeof window?window:"undefined"!=typeof self?self:(console.warn("Using browser-only version of superagent in non-browser environment"),this);var o=e("component-emitter"),i=e("./request-base"),s=e("./is-object"),u=e("./response-base"),a=e("./agent-base");function c(){}var l=n=t.exports=function(e,t){return"function"==typeof t?new n.Request("GET",e).end(t):1==arguments.length?new n.Request("GET",e):new n.Request(e,t)};n.Request=v,l.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var f="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function p(e){if(!s(e))return e;var t=[];for(var n in e)d(t,n,e[n]);return t.join("&")}function d(t,n,e){if(null!=e)if(Array.isArray(e))e.forEach(function(e){d(t,n,e)});else if(s(e))for(var r in e)d(t,n+"["+r+"]",e[r]);else t.push(encodeURIComponent(n)+"="+encodeURIComponent(e));else null===e&&t.push(encodeURIComponent(n))}function h(e){for(var t,n,r={},o=e.split("&"),i=0,s=o.length;i<s;++i)-1==(n=(t=o[i]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function m(e){return/[\/+]json($|[^-\w])/.test(e)}function y(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,r,o,i=e.split(/\r?\n/),s={},u=0,a=i.length;u<a;++u)-1!==(t=(n=i[u]).indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),o=f(n.slice(t+1)),s[r]=o);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function v(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var t,n=null,e=null;try{e=new y(r)}catch(e){return(n=new Error("Parser is unable to parse the response")).parse=!0,n.original=e,r.xhr?(n.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,n.status=r.xhr.status?r.xhr.status:null,n.statusCode=n.status):(n.rawResponse=null,n.status=null),r.callback(n)}r.emit("response",e);try{r._isResponseOK(e)||(t=new Error(e.statusText||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=n,t.response=e,t.status=e.status,r.callback(t,e)):r.callback(null,e)})}function g(e,t,n){var r=l("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}l.serializeObject=p,l.parseString=h,l.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":p,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse},u(y.prototype),y.prototype._parseBody=function(e){var t=l.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&m(this.type)&&(t=l.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},y.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=t,o.url=n,o},l.Response=y,o(v.prototype),i(v.prototype),v.prototype.type=function(e){return this.set("Content-Type",l.types[e]||e),this},v.prototype.accept=function(e){return this.set("Accept",l.types[e]||e),this},v.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});return this._auth(e,t,n,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},v.prototype.query=function(e){return"string"!=typeof e&&(e=p(e)),e&&this._query.push(e),this},v.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},v.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},v.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},v.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},v.prototype.buffer=v.prototype.ca=v.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},v.prototype.pipe=v.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},v.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},v.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||c,this._finalizeQueryString(),this._end()},v.prototype._end=function(){var n=this,r=this.xhr=l.getXHR(),e=this._formData||this._data;this._setTimeouts(),r.onreadystatechange=function(){var e=r.readyState;if(2<=e&&n._responseTimeoutTimer&&clearTimeout(n._responseTimeoutTimer),4==e){var t;try{t=r.status}catch(e){t=0}if(!t){if(n.timedout||n._aborted)return;return n.crossDomainError()}n.emit("end")}};var t=function(e,t){0<t.total&&(t.percent=t.loaded/t.total*100),t.direction=e,n.emit("progress",t)};if(this.hasListeners("progress"))try{r.onprogress=t.bind(null,"download"),r.upload&&(r.upload.onprogress=t.bind(null,"upload"))}catch(e){}try{this.username&&this.password?r.open(this.method,this.url,!0,this.username,this.password):r.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(r.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof e&&!this._isHost(e)){var o=this._header["content-type"],i=this._serializer||l.serialize[o?o.split(";")[0]:""];!i&&m(o)&&(i=l.serialize["application/json"]),i&&(e=i(e))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&r.setRequestHeader(s,this.header[s]);return this._responseType&&(r.responseType=this._responseType),this.emit("request",this),r.send(void 0!==e?e:null),this},l.agent=function(){return new a},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(r){a.prototype[r.toLowerCase()]=function(e,t){var n=new l.Request(r,e);return this._setDefaults(n),t&&n.end(t),n}}),a.prototype.del=a.prototype.delete,l.get=function(e,t,n){var r=l("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},l.head=function(e,t,n){var r=l("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},l.options=function(e,t,n){var r=l("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},l.del=g,l.delete=g,l.patch=function(e,t,n){var r=l("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},l.post=function(e,t,n){var r=l("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},l.put=function(e,t,n){var r=l("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},{"./agent-base":7,"./is-object":9,"./request-base":10,"./response-base":11,"component-emitter":1}],9:[function(e,t,n){"use strict";t.exports=function(e){return null!==e&&"object"==typeof e}},{}],10:[function(e,t,n){"use strict";var o=e("./is-object");function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}(t.exports=r).prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},r.prototype.parse=function(e){return this._parser=e,this},r.prototype.responseType=function(e){return this._responseType=e,this},r.prototype.serialize=function(e){return this._serializer=e,this},r.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},r.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];r.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&500<=t.status&&501!=t.status)return!0;if(e){if(e.code&&~i.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(e,t){if(!this._fullfilledPromise){var o=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(n,r){o.end(function(e,t){e?r(e):n(t)})})}return this._fullfilledPromise.then(e,t)},r.prototype.catch=function(e){return this.then(void 0,e)},r.prototype.use=function(e){return e(this),this},r.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},r.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):200<=e.status&&e.status<300)},r.prototype.getHeader=r.prototype.get=function(e){return this._header[e.toLowerCase()]},r.prototype.set=function(e,t){if(o(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},r.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},r.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),o(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)this.field(e,t[r]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},r.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},r.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},r.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},r.prototype.redirects=function(e){return this._maxRedirects=e,this},r.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(e){var t=o(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&o(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},r.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},r.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(0<=this.url.indexOf("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(0<=t){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},r.prototype._appendQueryString=function(){console.trace("Unsupported")},r.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},r.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":9}],11:[function(e,t,n){"use strict";var o=e("./utils");function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}(t.exports=r).prototype.get=function(e){return this.header[e.toLowerCase()]},r.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=o.type(t);var n=o.params(t);for(var r in n)this[r]=n[r];this.links={};try{e.link&&(this.links=o.parseLinks(e.link))}catch(e){}},r.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},{"./utils":12}],12:[function(e,t,n){"use strict";n.type=function(e){return e.split(/ *; */).shift()},n.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(e[r]=o),e},{})},n.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},n.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},{}],13:[function(a,e,c){(function(e,t){var r=a("process/browser.js").nextTick,n=Function.prototype.apply,o=Array.prototype.slice,i={},s=0;function u(e,t){this._id=e,this._clearFn=t}c.setTimeout=function(){return new u(n.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new u(n.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},c.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},c._unrefActive=c.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},c.setImmediate="function"==typeof e?e:function(e){var t=s++,n=!(arguments.length<2)&&o.call(arguments,1);return i[t]=!0,r(function(){i[t]&&(n?e.apply(null,n):e.call(null),c.clearImmediate(t))}),t},c.clearImmediate="function"==typeof t?t:function(e){delete i[e]}}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":4,timers:13}],14:[function(e,t,n){(function(h){var m=e("./components/events"),y=e("./components/service"),v=e("sizzle"),g=e("./components/utils"),w=e("./components/disabler");Q=e("q");var b=[];h.SCBeacon&&"[object Array]"===Object.prototype.toString.call(h.SCBeacon)&&(b=h.SCBeacon);t.exports=function(e){var s="loading";h.beaconEvents&&m.attachCollection(h.beaconEvents);var t=function(e){m.attach(e[0],e[1]),s===e[0]&&e[1]()};g.forEach(b,t);var u=y.build(e),n=document.getElementsByTagName("script"),r=n[n.length-1].src,a=r.replace("bundle/beacon",""),c=window.location.origin+"/";function l(e,t,n){if("string"==typeof t&&(t=t.split(".")),1<t.length){var r=t.shift();l(e[r]="[object Object]"===Object.prototype.toString.call(e[r])?e[r]:{},t,n)}else e[t[0]]=n}var f=function(t){try{if(!t)return t;var e=document.createElement("div");e.innerHTML=t;for(var n=[{tag:"img",prop:"src"},{tag:"form",prop:"action"},{tag:"script",prop:"src"},{tag:"link",prop:"href"}],r=0;r<n.length;r++)for(var o=n[r],i=e.getElementsByTagName(o.tag),s=0;s<i.length;s++){var u=i[s][o.prop].replace(c,a);"/"!=u[0]&&"-"!=u[0]&&"~"!=u[0]||(u=a+u),("script"!=o.tag||"src"!=o.prop||0<u.length)&&l(i[s],o.prop,u)}return t=e.outerHTML}catch(e){return console.log(e),t}},p=function(e,t,n){e.insertBefore(t,n);try{var r=t.getElementsByTagName("script");i(r,0)}catch(e){console.error(e)}},o=[],i=function(e,t){if(!(t>=e.length||e[t].src&&0<e[t].src.length&&-1!=o.indexOf(e[t].src)||"object"==typeof SCBeacon&&e[t].src==r)){o.push(e[t].src);var n=document.createElement("script");0<e[t].type.length&&(n.type=e[t].type),0<e[t].text.length?(n.text=e[t].text,e[t].parentElement.replaceChild(n,e[t]),i(e,t+1)):(n.src=e[t].src,n.onload=function(){i(e,t+1)},n.error=function(){console.err(n.src+" is not loaded"),i(e,t+1)},document.getElementsByTagName("head")[0].appendChild(n))}};u.trackPageVisit().then(function(e){var t=setInterval(function(){"complete"!==document.readyState&&"interactive"!==document.readyState||(clearInterval(t),function(e){if(e.ElementMatches){var i=[];w.isDisabled()?w.handleMatchers(e.ElementMatches):(g.forEach(e.ElementMatches,function(r){if("fragment"===r.MatchType){var e=function(){r.Selector.replace(/#*(.*)/,"#$1")===h.location.hash&&u.triggerElementMatch(r.Id)};if(e(),"onhashchange"in h)g.addListener(h,"hashchange",e);else{var t=h.location.hash,n=h.setInterval(function(){t!==h.location.hash&&e()},100);g.addListener(h,"unload",function(){h.clearInterval(n)})}}else{var o=v(r.Selector,document);switch(r.MatchType){case"event":g.forEach(o,function(e){g.addListener(e,r.Event,function(){u.triggerElementMatch(r.Id)})});break;case"content":"{FDBF46B4-5B52-4C7A-A254-B588EC52944E}"===r.RenderedPosition&&i.push({match:r,elements:o}),g.forEach(o,function(t){var e=document.createElement("div");switch(e.innerHTML=f(r.RenderedContent),r.RenderedPosition){case"{B8F49EBF-2542-4CB0-B3BB-63858918CE8B}":g.forEach(e.childNodes,function(e){e&&t&&p(t.parentNode,e,t)});break;case"{18F0F47F-2214-4F23-B6FA-F2D86A0C9E5A}":var n=e.childNodes;Array.prototype.reverse(n),g.forEach(n,function(e){e&&t&&p(t.parentNode,e,t.nextSibling)})}})}}}),g.forEach(i,function(n){g.forEach(n.elements,function(t){t.style.display="none";var e=document.createElement("div");e.innerHTML=f(n.match.RenderedContent),g.forEach(e.childNodes,function(e){e&&p(t.parentNode,e,t)})})}))}m.dispatch("ready"),s="ready"}(e))},10)}).fail(function(){m.dispatch("error"),s="error"});var d=function(n,r,o){var i=function(){var e="Unable to process tracking because the Beacon failed to initialize. ID: "+r;return console.error(e),Q.reject(e)};switch(s){case"ready":return n(r,o);case"error":return i();case"loading":return Q.promise(function(e,t){m.attach("ready",function(){n(r,o).then(e,t)}),m.attach("error",function(){i().then(e,t)})});default:var e="Invalid beacon status: "+s;return console.error(e),Q.reject(e)}};return{trackCampaign:function(e,t){return d(u.trackCampaign,e,t)},trackGoal:function(e,t){return d(u.trackGoal,e,t)},trackOutcome:function(e,t){return d(u.trackOutcome,e,t)},trackEvent:function(e,t){return d(u.trackEvent,e,t)},src:r,fxmHost:a,push:t}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/disabler":17,"./components/events":19,"./components/service":20,"./components/utils":21,q:5,sizzle:6}],15:[function(e,t,n){t.exports={validString:function(e,t){var n;if(t=t||"A valid string value must be provided.",!("string"==typeof e||e instanceof String)||0===(n=e,n.replace(/^\s+|\s+$/g,"")).length)throw t},isFunction:function(e,t){if(t=t||"A function value must be provided.","function"!=typeof e)throw t},isDefined:function(e,t){if(t=t||"null or undefined are invalid values.",null==e)throw t}}},{}],16:[function(e,s,t){(function(e){var t,n={},r=function(){},o=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=o.length;for(void 0!==e&&e.console?n=e.console:"undefined"!=typeof window&&window.console&&(n=window.console);i--;)n[t=o[i]]||(n[t]=r);s.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,n){e("sizzle");var r=e("./utils");t.exports=new function(){var t={},n=function(e,t){var n=document.createElement("meta");n.setAttribute(e,t),document.head.appendChild(n)};this.init=function(e){return(t=e).Language&&n("data-sc-beaconlanguage",JSON.stringify(t.Language)),t},this.isDisabled=function(){return t.DoNotTrack},this.addHiddenMeta=n,this.handleMatchers=function(e){var t=this;r.forEach(e,function(e){switch(e.MatchType){case"event":t.addHiddenMeta("data-sc-beaconaction",e.Id);break;case"content":t.addHiddenMeta("data-sc-beaconcontent",e.Id);break;case"fragment":t.addHiddenMeta("data-sc-beaconfragment",e.Id);break;case"domain":t.addHiddenMeta("data-sc-beacondomain",e.Id);break;case"item":t.addHiddenMeta("data-sc-beaconitem",e.Id)}})}}},{"./utils":21,sizzle:6}],18:[function(e,t,n){var r=e("./utils"),o=function(e,t){r.assert.validString(e,"Name must be a valid string value when creating an error."),this.message=t,this.name=e,r.console.error(this)};t.exports={Endpoint:function(e){return new o("Service endpoint error",e)},Cookie:function(e){return new o("Cookie error",e)},General:o}},{"./utils":21}],19:[function(e,t,n){var r=e("./utils"),o=[],i=function(e,t){r.assert.validString(e,"Must provide name when attaching events"),r.assert.isFunction(t,"Must provide handler when attaching events"),o.push({evt:e,handler:t})};t.exports={dispatch:function(t,n){r.assert.validString(t,"Must provide name for event dispatch"),r.forEach(o,function(e){e.evt===t&&e.handler(n)})},attach:i,attachCollection:function(e){if(null!=e)if("[object Object]"===Object.prototype.toString.call(e)){var t=r.getKeys(e);r.forEach(t,function(t){r.forEach(e[t],function(e){i(t,e)})})}else r.console.warn("Function collection should be an object")},reset:function(){o=[]}}},{"./utils":21}],20:[function(e,t,n){(function(r){var l=e("q"),f=e("superagent"),p=e("../vendor/superagent-legacyIESupport"),n=e("merge"),o=e("cookie-component"),d=e("./error"),h=e("./utils"),m=e("./disabler"),y="sc_ext_contact",v="sc_ext_session";t.exports={build:function(i){try{h.assert.validString(i)}catch(e){throw new d.Endpoint(e)}var s=[];function u(e){var t={contactId:o.get(y)||"",sessionId:o.get(v)||"",page:function(){var e=document.getElementById("sc_fxm_externaldomain");if(!e)return r.location.href;var t=e.getAttribute("data-sc-value");return t&&""!=t?function(e){var t=r.document.location.protocol;-1==t.indexOf("//")&&(t+="//");var n=r.document.location.pathname;return"/"!==n[0]&&(n="/"+n),t+e+n+r.location.search}(t):(console.warn("Couldn't retrieve external domain value, current domain will be used instead."),r.location.href)}(),referrer:r.document.referrer,rt:(new Date).getTime()};return n(t,e)}function a(e){if(m.isDisabled())return e;try{h.assert.validString(e.ContactId,"ContactId required."),h.assert.validString(e.SessionId,"SessionId required."),h.assert.validString(e.ContactExpires,"ContactExpires required.")}catch(e){throw new d.Cookie(e)}return o.set(y,e.ContactId,{expires:new Date(Date.parse(e.ContactExpires)),path:"/"}),o.set(v,e.SessionId,{path:e.SessionPath}),e}function c(e){return e?new t("/"+e.id+"/"+e.command,e.options):null}var t=function(t,o){return l.Promise(function(n,r){var e=u(o);f.post(i+t).use(p).accept("application/json").withCredentials().query(e).end(function(e,t){return e||!t.ok?r(e||t.status+": "+t.xhr.statusText):n(t.body)})}).then(m.init)};h.addListener(r,"beforeunload",function(){for(var e=!1,t=[];0<s.length;)t.push(c(s.pop()));l.allSettled(t).then(function(){e=!0});var n=function(){e||setInterval(n,10)};n()});var e={trackPageVisit:function(e){return new t("/beacon/trackPageVisit/",e).then(a)}};return h.forEach(["trackCampaign","trackGoal","trackOutcome","trackEvent","triggerElementMatch"],function(n){e[n]=function(e,t){return h.assert.validString(e,"id must be a valid string."),r=e,o=n,i=t,l.Promise(function(t,n){s.push({id:r,command:o,options:i});var e=c(s.pop());e&&e.then(function(e){return a(e),t(e)},function(e){return n(e)})});var r,o,i}}),e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../vendor/superagent-legacyIESupport":22,"./disabler":17,"./error":18,"./utils":21,"cookie-component":2,merge:3,q:5,superagent:8}],21:[function(e,t,n){var r=e("./assert"),o=e("./console");t.exports={forEach:function(e,t){for(var n=e.length,r=0;r<n;r++)t(e[r])},getKeys:function(e){var t=[];if(Object.keys)t=Object.keys(e);else for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},console:o,assert:r,addListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)},deserialize:function(e){for(var t={},n=/\?(.*)/g.exec(e)[1].split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[i[0]]=i[1]}return t},serialize:function(e){if(e!==Object(e))return e;var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}},{"./assert":15,"./console":16}],22:[function(e,t,n){t.exports=function(e){function i(e){if(e!==Object(e))return e;var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var t,n;(t=e.url,(n=document.createElement("a")).href=t,{hostname:n.hostname,protocol:n.protocol,pathname:n.pathname,queryString:n.search}).hostname!=window.location.hostname&&"undefined"!=typeof XDomainRequest&&(e.end=function(e){var t=this,n=this.xhr=new XDomainRequest;n.getAllResponseHeaders=function(){return""},n.getResponseHeader=function(e){if("content-type"==e)return"application/json"};var r=this._query.join("&"),o=this._formData||this._data;if(this._callback=e||noop,n.onload=function(){n.status=200,t.emit("end")},n.onerror=function(){return n.status=400,t.aborted?t.timeoutError():t.crossDomainError()},n.onprogress=function(){t.emit("progress",50)},n.ontimeout=function(){return n.status=408,t.timeoutError()},r&&(r=i(r),this.url+=~this.url.indexOf("?")?"&"+r:"?"+r),"GET"!=this.method&&"POST"!=this.method)throw"Only Get and Post methods are supported by XDomainRequest object.";return n.open(this.method,this.url,!0),"POST"==this.method&&"string"!=typeof o&&(o=i(o)),this.emit("request",this),n.send(o),this})}},{}]},{},[14])(14)});
// Turns on requireJS 'define' if it exists
if (__scFxmOrigDefine != null) {
  define = __scFxmOrigDefine;
}
SCBeacon = new SCBeacon("//www.csiro.au/sitecore/api/ssc/Beacon/Service");

